{"ast":null,"code":"import React,{useEffect,useRef}from'react';import{motion}from'framer-motion';import'../styles/ElementChart.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ElementChart=_ref=>{let{elements}=_ref;const canvasRef=useRef(null);useEffect(()=>{if(!canvasRef.current||!elements)return;const canvas=canvasRef.current;const ctx=canvas.getContext('2d');const width=canvas.width;const height=canvas.height;const centerX=width/2;const centerY=height/2;const radius=Math.min(width,height)/2-20;// 캔버스 초기화\nctx.clearRect(0,0,width,height);// 오행 색상 설정\nconst colors={wood:'#4CAF50',// 녹색\nfire:'#FF5722',// 적색\nearth:'#FFC107',// 황색\nmetal:'#9E9E9E',// 백색\nwater:'#2196F3'// 흑색\n};// 오행 데이터 준비\nconst data=[{name:'목(木)',value:elements.wood,color:colors.wood},{name:'화(火)',value:elements.fire,color:colors.fire},{name:'토(土)',value:elements.earth,color:colors.earth},{name:'금(金)',value:elements.metal,color:colors.metal},{name:'수(水)',value:elements.water,color:colors.water}];const total=data.reduce((sum,item)=>sum+item.value,0);// 원형 차트 그리기\nlet startAngle=-Math.PI/2;// 12시 방향에서 시작\ndata.forEach(item=>{const sliceAngle=2*Math.PI*item.value/total;// 부채꼴 그리기\nctx.beginPath();ctx.moveTo(centerX,centerY);ctx.arc(centerX,centerY,radius,startAngle,startAngle+sliceAngle);ctx.closePath();// 부채꼴 채우기\nctx.fillStyle=item.color;ctx.fill();// 테두리 그리기\nctx.lineWidth=1;ctx.strokeStyle='#fff';ctx.stroke();// 텍스트 위치 계산\nconst textAngle=startAngle+sliceAngle/2;const textRadius=radius*0.7;const textX=centerX+textRadius*Math.cos(textAngle);const textY=centerY+textRadius*Math.sin(textAngle);// 텍스트 그리기\nctx.save();ctx.translate(textX,textY);ctx.rotate(textAngle+Math.PI/2);ctx.textAlign='center';ctx.textBaseline='middle';ctx.fillStyle='#fff';ctx.font='bold 14px \"Noto Sans KR\", sans-serif';ctx.fillText(item.name,0,0);ctx.restore();// 다음 부채꼴의 시작 각도 업데이트\nstartAngle+=sliceAngle;});// 중앙 원 그리기\nctx.beginPath();ctx.arc(centerX,centerY,radius*0.3,0,2*Math.PI);ctx.fillStyle='#fff';ctx.fill();ctx.lineWidth=2;ctx.strokeStyle='#8e44ad';ctx.stroke();// 중앙 텍스트 그리기\nctx.textAlign='center';ctx.textBaseline='middle';ctx.fillStyle='#333';ctx.font='bold 16px \"Noto Sans KR\", sans-serif';ctx.fillText('오행',centerX,centerY);},[elements]);return/*#__PURE__*/_jsxs(\"div\",{className:\"element-chart\",children:[/*#__PURE__*/_jsx(motion.div,{className:\"chart-container\",initial:{rotate:-90,opacity:0},animate:{rotate:0,opacity:1},transition:{duration:1,ease:\"easeOut\"},children:/*#__PURE__*/_jsx(\"canvas\",{ref:canvasRef,width:300,height:300,className:\"chart-canvas\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"element-indicators\",children:Object.entries(elements).map(_ref2=>{let[element,value]=_ref2;return/*#__PURE__*/_jsxs(motion.div,{className:`element-indicator ${element}`,initial:{width:0},animate:{width:`${value}%`},transition:{duration:1,delay:0.5},children:[/*#__PURE__*/_jsxs(\"span\",{className:\"element-name\",children:[element==='wood'&&'목(木)',element==='fire'&&'화(火)',element==='earth'&&'토(土)',element==='metal'&&'금(金)',element==='water'&&'수(水)']}),/*#__PURE__*/_jsxs(\"span\",{className:\"element-value\",children:[value,\"%\"]})]},element);})})]});};export default ElementChart;","map":{"version":3,"names":["React","useEffect","useRef","motion","jsx","_jsx","jsxs","_jsxs","ElementChart","_ref","elements","canvasRef","current","canvas","ctx","getContext","width","height","centerX","centerY","radius","Math","min","clearRect","colors","wood","fire","earth","metal","water","data","name","value","color","total","reduce","sum","item","startAngle","PI","forEach","sliceAngle","beginPath","moveTo","arc","closePath","fillStyle","fill","lineWidth","strokeStyle","stroke","textAngle","textRadius","textX","cos","textY","sin","save","translate","rotate","textAlign","textBaseline","font","fillText","restore","className","children","div","initial","opacity","animate","transition","duration","ease","ref","Object","entries","map","_ref2","element","delay"],"sources":["/Users/woojin/Downloads/사주/client/src/components/ElementChart.js"],"sourcesContent":["import React, { useEffect, useRef } from 'react';\nimport { motion } from 'framer-motion';\nimport '../styles/ElementChart.css';\n\nconst ElementChart = ({ elements }) => {\n  const canvasRef = useRef(null);\n  \n  useEffect(() => {\n    if (!canvasRef.current || !elements) return;\n    \n    const canvas = canvasRef.current;\n    const ctx = canvas.getContext('2d');\n    const width = canvas.width;\n    const height = canvas.height;\n    const centerX = width / 2;\n    const centerY = height / 2;\n    const radius = Math.min(width, height) / 2 - 20;\n    \n    // 캔버스 초기화\n    ctx.clearRect(0, 0, width, height);\n    \n    // 오행 색상 설정\n    const colors = {\n      wood: '#4CAF50',  // 녹색\n      fire: '#FF5722',  // 적색\n      earth: '#FFC107', // 황색\n      metal: '#9E9E9E', // 백색\n      water: '#2196F3'  // 흑색\n    };\n    \n    // 오행 데이터 준비\n    const data = [\n      { name: '목(木)', value: elements.wood, color: colors.wood },\n      { name: '화(火)', value: elements.fire, color: colors.fire },\n      { name: '토(土)', value: elements.earth, color: colors.earth },\n      { name: '금(金)', value: elements.metal, color: colors.metal },\n      { name: '수(水)', value: elements.water, color: colors.water }\n    ];\n    \n    const total = data.reduce((sum, item) => sum + item.value, 0);\n    \n    // 원형 차트 그리기\n    let startAngle = -Math.PI / 2; // 12시 방향에서 시작\n    \n    data.forEach(item => {\n      const sliceAngle = (2 * Math.PI * item.value) / total;\n      \n      // 부채꼴 그리기\n      ctx.beginPath();\n      ctx.moveTo(centerX, centerY);\n      ctx.arc(centerX, centerY, radius, startAngle, startAngle + sliceAngle);\n      ctx.closePath();\n      \n      // 부채꼴 채우기\n      ctx.fillStyle = item.color;\n      ctx.fill();\n      \n      // 테두리 그리기\n      ctx.lineWidth = 1;\n      ctx.strokeStyle = '#fff';\n      ctx.stroke();\n      \n      // 텍스트 위치 계산\n      const textAngle = startAngle + sliceAngle / 2;\n      const textRadius = radius * 0.7;\n      const textX = centerX + textRadius * Math.cos(textAngle);\n      const textY = centerY + textRadius * Math.sin(textAngle);\n      \n      // 텍스트 그리기\n      ctx.save();\n      ctx.translate(textX, textY);\n      ctx.rotate(textAngle + Math.PI / 2);\n      ctx.textAlign = 'center';\n      ctx.textBaseline = 'middle';\n      ctx.fillStyle = '#fff';\n      ctx.font = 'bold 14px \"Noto Sans KR\", sans-serif';\n      ctx.fillText(item.name, 0, 0);\n      ctx.restore();\n      \n      // 다음 부채꼴의 시작 각도 업데이트\n      startAngle += sliceAngle;\n    });\n    \n    // 중앙 원 그리기\n    ctx.beginPath();\n    ctx.arc(centerX, centerY, radius * 0.3, 0, 2 * Math.PI);\n    ctx.fillStyle = '#fff';\n    ctx.fill();\n    ctx.lineWidth = 2;\n    ctx.strokeStyle = '#8e44ad';\n    ctx.stroke();\n    \n    // 중앙 텍스트 그리기\n    ctx.textAlign = 'center';\n    ctx.textBaseline = 'middle';\n    ctx.fillStyle = '#333';\n    ctx.font = 'bold 16px \"Noto Sans KR\", sans-serif';\n    ctx.fillText('오행', centerX, centerY);\n    \n  }, [elements]);\n  \n  return (\n    <div className=\"element-chart\">\n      <motion.div \n        className=\"chart-container\"\n        initial={{ rotate: -90, opacity: 0 }}\n        animate={{ rotate: 0, opacity: 1 }}\n        transition={{ duration: 1, ease: \"easeOut\" }}\n      >\n        <canvas \n          ref={canvasRef} \n          width={300} \n          height={300}\n          className=\"chart-canvas\"\n        />\n      </motion.div>\n      \n      <div className=\"element-indicators\">\n        {Object.entries(elements).map(([element, value]) => (\n          <motion.div \n            key={element} \n            className={`element-indicator ${element}`}\n            initial={{ width: 0 }}\n            animate={{ width: `${value}%` }}\n            transition={{ duration: 1, delay: 0.5 }}\n          >\n            <span className=\"element-name\">\n              {element === 'wood' && '목(木)'}\n              {element === 'fire' && '화(火)'}\n              {element === 'earth' && '토(土)'}\n              {element === 'metal' && '금(金)'}\n              {element === 'water' && '수(水)'}\n            </span>\n            <span className=\"element-value\">{value}%</span>\n          </motion.div>\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default ElementChart;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}